<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <meta name="author" content="Bernhard R. Fischer">
      <script src="adams.js" charset="UTF-8"></script>
      <script src="racemath.js" charset="UTF-8"></script>
      <script src="math.js" charset="UTF-8"></script>
      <script src="decyb.js" charset="UTF-8"></script>
      <script src="coastline.js" charset="UTF-8"></script>
      <title>GGR2022 Race Data and Diagrams</title>
      <style>
         body {
            margin:0;
            height: 100%;
         }
      </style>
     </head>
   <body>
        <div style="position:relative">
         <canvas id="chart" style="display:block;"></canvas>
         </div>
      <!--<pre id="pre"></pre>-->
      <script defer="defer" type="text/javascript">

         var title_ =
            "This diagram shows the distance sailed over time (upper part, upper curve),\n" +
            "the distance made good (upperpart lower curve), and the average speed\n" +
            "(lower part) of all participants of a specific race provided by YB. The distance sailed is calculated\n" +
            "by the actual trackpoints of each boat.\n\n" +
            "Added the URL parameter ?race=NAME where NAME is name of race, e.g. ggr2022, or ogr2023.\n\n" +
            "The smaller the area between the two curves the closer does a participant\n" +
            "stay to the intended race course. It could be seen as a perfomance measure.\n" +
            "Hover over the participants' names to display the curves.\n" +
            "Click on the names to make the curves sticky.\n" +
            "Click somewhere else to switch color scheme.\n" +
            "The blue line within the map shows the daylight border.\n" +
            "Racedata Viewer 2.5, Bernhard R. Fischer <bf@abenteuerland.at>\n" +
            "Source: https://github.com/rahra/decyb";

         const urlParams = new URLSearchParams(window.location.search);
         var race = urlParams.get('race')
         if (race === null)
            race = "ggr2022";

         //get_data("http://localhost", "ggr2022");
         get_data("https://cf.yb.tl", race);

      </script>
   </body>
</html>
